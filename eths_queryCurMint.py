'''
返回格式
[
    {
        "transaction_hash": "0x58a99339d22f72e0388c1c0bfa77d29b8b95c0205145b9ea80d6ca1bd70ce26b",
        "current_owner": "0x862b5d7ab84dfcfbd14c9bebb46a5617ecffbe6f",
        "creator": "0xa0e22e94433779c859dddeeaf8c6f15b16b662f4",
        "creation_timestamp": "2023-09-14T15:30:11.000Z",
        "ethscription_number": null,
        "previous_owner": null,
        "mimetype": "image/svg+xml",
        "content_taken_down_at": null,
        "transaction_index": 456,
        "initial_owner": "0x862b5d7ab84dfcfbd14c9bebb46a5617ecffbe6f",
        "event_log_index": 583,
        "block_confirmations": 17,
        "min_block_confirmations": 17,
        "overall_order_number_as_int": "18135406000456000584",
        "image_removed_by_request_of_rights_holder": false,
        "content_uri": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMiIgaGVpZ2h0PSIxMjAwIiB3aWR0aD0iMTIwMCIgdmlld2JveD0iMCAwIDEyMDAgMTIwMCI+PGRlZnM+PGxpbmVhckdyYWRpZW50IGlkPSJncmFkMSIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOnJnYigyNTUsMjU1LDApO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6cmdiKDI0MywxODMsMjI2KTtzdG9wLW9wYWNpdHk6MSIgLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iZ3JhZCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOnJnYigyNTUsMjU1LDApO3N0b3Atb3BhY2l0eToxIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6cmdiKDE3NiwyMDIsNjQpO3N0b3Atb3BhY2l0eToxIiAvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JhZCkiIC8+PGNpcmNsZSBjeD0iMjclIiBjeT0iNjElIiByPSIxNiUiIGZpbGw9InVybCgjZ3JhZDEpIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiLz48cmVjdCB4PSI2MCIgeT0iNjAiIHJ4PSIxNSIgcnk9IjE1IiB3aWR0aD0iNjclIiBoZWlnaHQ9IjI0JSIgZmlsbD0icmdiKDE0MywxMjQsMTIyKSIgc3Ryb2tlPSJibGFjayIgc3Ryb2tlLXdpZHRoPSIyIiAvPjx0ZXh0IGZpbGw9InJnYigxMDksMjQ1LDQzKSIgeD0iMTE3MCIgeT0iMTE3MCIgZm9udC1zaXplPSIyMDAlIiB0ZXh0LWFuY2hvcj0iZW5kIiBmb250LWZhbWlseT0iaGVsdmV0aWNhIG5ldWUsIGhlbHZldGljYSwgYXJpYWwsIHNhbi1zZXJpZiI+RVNJUC0zIFdlbGNvbWUgUE9BUCAjMTgzMzk8L3RleHQ+PC9zdmc+"
    },
    {
        "transaction_hash": "0xbf4c96f3b9615bcec798da9b71a0dd2c92254d75b2f7785c034e1e1fb2c15d20",
        "current_owner": "0xeae665284d952b14a6b921c70d12da5bb25dd312",
        "creator": "0xeae665284d952b14a6b921c70d12da5bb25dd312",
        "creation_timestamp": "2023-09-14T15:29:59.000Z",
        "ethscription_number": null,
        "previous_owner": null,
        "mimetype": "text/plain",
        "content_taken_down_at": null,
        "transaction_index": 147,
        "initial_owner": "0xeae665284d952b14a6b921c70d12da5bb25dd312",
        "event_log_index": null,
        "block_confirmations": 18,
        "min_block_confirmations": 18,
        "overall_order_number_as_int": "18135405000147000000",
        "image_removed_by_request_of_rights_holder": false,
        "content_uri": "data:,{\"p\":\"erc-cash\",\"op\":\"mint\",\"tick\":\"ESH\",\"id\":\"17722\",\"amt\":\"1000\"}"
    },
    {
        "transaction_hash": "0xfdafb020b0f852447144fdf41dfbcc312f164d4eca3bed4ef41f4b3e9bac4a81",
        "current_owner": "0xd1c5a51b2d1cfaf6c5182219c58b13e9486d9d38",
        "creator": "0xd1c5a51b2d1cfaf6c5182219c58b13e9486d9d38",
        "creation_timestamp": "2023-09-14T15:29:59.000Z",
        "ethscription_number": null,
        "previous_owner": null,
        "mimetype": "text/plain",
        "content_taken_down_at": null,
        "transaction_index": 101,
        "initial_owner": "0xd1c5a51b2d1cfaf6c5182219c58b13e9486d9d38",
        "event_log_index": null,
        "block_confirmations": 18,
        "min_block_confirmations": 18,
        "overall_order_number_as_int": "18135405000101000000",
        "image_removed_by_request_of_rights_holder": false,
        "content_uri": "data:,{\"p\":\"erc-20\",\"op\":\"mint\",\"tick\":\"swap\",\"id\":\"10827\",\"amt\":\"1000\"}"
    }
]'''

import hashlib
import requests
import json

def query_content():

    # 相关数据说明:https://docs.ethscriptions.com/api-docs/ethscriptions-endpoints
    url = f"https://api.ethscriptions.com/api/ethscriptions"

    try:
        data = {"per_page":3} # 根据官网文档设置json格式请求数据,per_page后数字为显示多少行
        response = requests.get(url,data=data) # data=data 可以设置请求网站时的data传入
        result = response.json() # 将结果返回成json
        print(json.dumps(result, indent=4)) # 漂亮打印indent为每行缩进段数

        response.raise_for_status()  # 检查HTTP请求是否成功
    except requests.exceptions.HTTPError as http_err:
        print(f"HTTP error occurred: {http_err}")
    except requests.exceptions.RequestException as req_err:
        print(f"Request error occurred: {req_err}")
    except ValueError:  # 包含JSONDecodeError
        print(f"Invalid JSON received: {response.text}")

query_content()